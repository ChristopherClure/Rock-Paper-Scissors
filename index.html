<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    game();

    //function returns "rock", "paper", or "scissors".
    function getComputerChoice() {
      let randomNumber = Math.floor(Math.random() * 3);
      //console.log("Random number: " + randomNumber); //Test random number
      switch (randomNumber) {
        case 0:
          return "rock";
        case 1:
          return "paper";
        case 2:
          return "scissors";
      }
    }
    
    //changes user input to lowercase and does comparisons. === is a tie, rock beats scissors, paper beats rock, scissors beat paper.
    function oneRound() {
      let playerSelection = prompt("Pick Rock, Paper, or Scissors.");
      let lowerPlayerSelection = playerSelection.toLowerCase();
      let computerSelection = getComputerChoice();
      if (lowerPlayerSelection === computerSelection) {
        return "Tie";
      }
      else {
        //embedded if statements
        if (lowerPlayerSelection === "rock") {
          if (computerSelection === "paper") {
            return "You Lose! Paper beats Rock";
          }
          else { 
            return "You Win! Rock beats Scissors";
          }
        }
        else if (lowerPlayerSelection === "paper") {
          if (computerSelection === "rock") {
            return "You Win! Paper beats Rock";
          }
          else { 
            return "You Lose! Scissors beats Paper";
          }
        }
        else if (lowerPlayerSelection === "scissors") {
          if (computerSelection === "paper") {
            return "You Win! Scissors beats Paper";
          }
          else { 
            return "You Lose! Rock beats Scissors";
          }
        }
        else {
          return "Not a valid input.";
        }
      }

    }

    function game() {
      let score = 0;
      let computerScore = 0;
      for (let i = 0; i < 5; i++) {
        let returnPhrase = oneRound();
        console.log(returnPhrase);
        if (returnPhrase.charAt(5) === "W") {
          score++;
        }
        else if (returnPhrase.charAt(5) === "L") {
          computerScore++;
        }

      }
      if (score > computerScore) {
        console.log("You win the game!!")
      }
      else if (computerScore > score) {
        console.log("You lose the game!!")
      }
      else if (computerScore === score) {
        console.log("The games a Tie.")
      }
      else {
        console.log("error")
      }
    }
  </script>
</body>
</html>